# --- Container image & host defaults ---
PROP_REPO=propbot                 # GitHub Container Registry org/user (e.g. propbot)
PROP_TAG=v0.1.1                  # Release tag to run; use latest stable from releases
TIMEZONE=UTC                     # Host timezone for logs inside the container
PROP_API_PORT=8000               # Public port to expose the FastAPI service

# --- Runtime profile & safety controls ---
# PAPER:    PROFILE=paper, SAFE_MODE=true, DRY_RUN_ONLY=true (no external orders)
# TESTNET:  PROFILE=testnet, SAFE_MODE=true, DRY_RUN_ONLY=false, ENABLE_PLACE_TEST_ORDERS=true
# LIVE:     PROFILE=live, SAFE_MODE=true for startup, DRY_RUN_ONLY=false, ENABLE_PLACE_TEST_ORDERS=false
PROFILE=paper                    # paper | testnet | live â€” trading environment
MODE=prod-paper                  # Free-form label shown in System Status and Telegram
SAFE_MODE=true                   # true blocks order placement; disable only after approvals
DRY_RUN_ONLY=true                # true forces the internal simulator (recommended for paper)
TWO_MAN_RULE=true                # Require two-man rule acknowledgement before resume
ENABLE_PLACE_TEST_ORDERS=false   # Allow Binance testnet orders when SAFE_MODE=false
POST_ONLY=true                   # Submit post-only orders where available
REDUCE_ONLY=false                # Limit orders to position-reducing actions
ORDER_NOTIONAL_USDT=50           # Default order notional for the arbitrage loop
MAX_SLIPPAGE_BPS=2               # Execution slippage ceiling (basis points)
MIN_SPREAD_BPS=0.0               # Minimum spread required to trade (basis points)
POLL_INTERVAL_SEC=5              # Loop sleep interval between cycles (seconds)
LOOP_PAIR=                       # Optional fixed trading pair (e.g. BTCUSDT)
LOOP_VENUES=                     # Optional comma-separated venue list (e.g. binance-um,okx-perp)

# --- Risk limits ---
MAX_POSITION_USDT=25000          # Global per-symbol notional cap (USDT)
MAX_POSITION_USDT__BTCUSDT=50000 # Example override for BTCUSDT
MAX_OPEN_ORDERS=5                # Maximum concurrent orders across venues
MAX_OPEN_ORDERS__binance-um=10   # Venue-specific override
MAX_DAILY_LOSS_USDT=2500         # Hard drawdown stop before auto-HOLD (USDT)

# --- Authentication & API guards ---
AUTH_ENABLED=true                # Require API_TOKEN for mutating routes
API_TOKEN=change-me              # Bearer token for CLI / operators
IDEM_TTL_SEC=600                 # Idempotency cache TTL (seconds)
API_RATE_PER_MIN=30              # Rate limit tokens added per minute
API_BURST=10                     # Rate limit burst size

# --- Telegram control bot ---
TELEGRAM_ENABLE=false            # Enable the Telegram bot (set true for prod notifications)
TELEGRAM_BOT_TOKEN=              # Bot token from @BotFather (prod bot for live, test bot for testnet)
TELEGRAM_CHAT_ID=                # Authorised chat/user ID receiving commands & alerts
TELEGRAM_PUSH_MINUTES=5          # Periodic status push interval in minutes

# --- Runtime persistence ---
RUNTIME_STATE_PATH=data/runtime_state.json  # File storing last applied control snapshot

# --- Binance UM testnet credentials ---
BINANCE_UM_API_KEY_TESTNET=      # Binance UM testnet API key (required for PROFILE=testnet)
BINANCE_UM_API_SECRET_TESTNET=   # Binance UM testnet API secret
BINANCE_UM_BASE_TESTNET=https://testnet.binancefuture.com  # Override only when using a proxy

# --- Binance Futures live credentials (REAL FUNDS) ---
BINANCE_LV_API_KEY=              # Binance Futures live API key (keep off test hosts)
BINANCE_LV_API_SECRET=           # Binance Futures live API secret
BINANCE_LV_BASE_URL=https://fapi.binance.com  # Override only when directed by Binance

# --- Optional segregated live/testnet credentials for futures ---
BINANCE_LV_API_KEY_TESTNET=      # Optional dedicated key for parallel live/test setups
BINANCE_LV_API_SECRET_TESTNET=

# --- OKX testnet credentials (optional venue) ---
OKX_API_KEY_TESTNET=
OKX_API_SECRET_TESTNET=
OKX_API_PASSPHRASE_TESTNET=

# --- Universe defaults ---
UNIVERSE=BTCUSDT,ETHUSDT         # Symbols monitored by default
VENUES=binance-um,okx-perp       # Venues participating in the arbitrage loop
